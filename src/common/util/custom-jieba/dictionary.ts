/**
 * 中文词典类
 * 包含常用中文词汇，用于分词判断
 */

export class Dictionary {
  private words: Set<string>

  constructor() {
    this.words = new Set()
    this.initDictionary()
  }

  /**
   * 检查词汇是否在词典中
   */
  contains(word: string): boolean {
    return this.words.has(word)
  }

  /**
   * 添加词汇到词典
   */
  add(word: string): void {
    this.words.add(word)
  }

  /**
   * 初始化词典
   */
  private initDictionary(): void {
    // 常用双字词
    const commonWords = [
      // 基础词汇
      '中国', '人民', '社会', '发展', '建设', '工作', '问题', '系统', '管理', '服务',
      '技术', '方法', '研究', '分析', '设计', '实现', '应用', '功能', '数据', '信息',
      '网络', '计算', '软件', '硬件', '程序', '代码', '文件', '目录', '路径', '配置',
      
      // 时间词汇
      '时间', '日期', '年份', '月份', '星期', '小时', '分钟', '秒钟', '今天', '明天',
      '昨天', '现在', '以前', '以后', '开始', '结束', '过程', '结果', '原因', '条件',
      
      // 动作词汇
      '创建', '删除', '修改', '更新', '查询', '搜索', '保存', '加载', '导入', '导出',
      '打开', '关闭', '启动', '停止', '运行', '执行', '处理', '操作', '控制', '管理',
      
      // 状态词汇
      '成功', '失败', '错误', '正确', '完成', '进行', '等待', '准备', '可用', '不可用',
      '有效', '无效', '正常', '异常', '活动', '非活动', '启用', '禁用', '公开', '私有',
      
      // 技术词汇
      '数据库', '服务器', '客户端', '接口', '协议', '算法', '架构', '框架', '模块', '组件',
      '类库', '工具', '平台', '环境', '版本', '更新', '升级', '安装', '配置', '部署',
      
      // 业务词汇
      '用户', '账户', '权限', '角色', '组织', '部门', '项目', '任务', '计划', '目标',
      '需求', '规格', '标准', '流程', '步骤', '阶段', '状态', '进度', '质量', '性能'
    ]

    // 常用三字词
    const threeCharWords = [
      '计算机', '互联网', '数据库', '操作系统', '编程语言', '软件工程', '人工智能',
      '机器学习', '深度学习', '神经网络', '算法设计', '数据结构', '设计模式',
      '开发工具', '测试框架', '版本控制', '项目管理', '需求分析', '系统设计',
      '用户界面', '用户体验', '前端开发', '后端开发', '全栈开发', '移动开发'
    ]

    // 常用四字词
    const fourCharWords = [
      '软件开发', '系统架构', '数据分析', '人工智能', '机器学习', '深度学习',
      '云计算', '大数据', '物联网', '区块链', '移动互联网', '电子商务',
      '信息安全', '网络安全', '数据挖掘', '商业智能', '企业应用', '解决方案'
    ]

    // 添加所有词汇到词典
    const allWords = commonWords.concat(threeCharWords).concat(fourCharWords)
    allWords.forEach(word => {
      this.words.add(word)
    })

    // 添加常用单字（作为后备）
    const singleChars = [
      '人', '中', '国', '大', '小', '上', '下', '左', '右', '前', '后', '内', '外',
      '高', '低', '长', '短', '新', '老', '好', '坏', '多', '少', '快', '慢',
      '是', '有', '无', '能', '会', '要', '用', '做', '看', '说', '来', '去',
      '年', '月', '日', '时', '分', '秒', '天', '地', '山', '水', '火', '木',
      '金', '土', '东', '南', '西', '北', '一', '二', '三', '四', '五', '六',
      '七', '八', '九', '十', '百', '千', '万', '亿'
    ]

    singleChars.forEach(char => {
      this.words.add(char)
    })
  }

  /**
   * 获取词典大小
   */
  size(): number {
    return this.words.size
  }

  /**
   * 清空词典
   */
  clear(): void {
    this.words.clear()
  }
}
